<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Harish Bhatta - Projects</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Homemade+Apple&display=swap');

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  color: #000;
  -webkit-tap-highlight-color: rgba(255,255,255,0.3);
}

body {
  min-height: 100vh;
  background: #fad090;
  overflow-x: hidden;
  display: flex;
  flex-direction: column;
  width: 100vw;
  position: relative;
  left: 0;
  transition: left 0.4s ease-in-out;
}

body.drawer-open {
  left: 260px;
}

#hamburger {
  position: fixed;
  left: 20px;
  top: 20px;
  font-size: 2rem;
  cursor: pointer;
  z-index: 1400;
  user-select: none;
}

#drawer {
    position: fixed; top: 0; left: -260px;
    width: 260px; height: 100%;
    background: #fad090;
    color: #000;
    z-index: 1300;
    padding: 70px 20px 20px;
    transition: left .4s;
    box-shadow: 2px 0 12px rgba(0,0,0,0.2);
  }
    #drawer.open { left: 0; }
  #drawer ul { list-style: none; margin-top: 15px; }
  #drawer li { margin: 15px 0; cursor: pointer; font-weight: 600; }
  #drawer li a {
    text-decoration: none;
    color: inherit;
    display: inline-block;
    padding: 5px 0;
  }
  #drawer hr { border-color: rgba(0,0,0,0.1); margin: 20px 0; }
  #drawer p { margin: 8px 0; font-weight: 500; }

header {
  position: fixed;
  top: 0;
  left: 70px;
  width: calc(100% - 70px);
  display: flex;
  gap: 35px;
  padding: 15px 20px;
  justify-content: center;
  backdrop-filter: blur(10px);
  background: #fad090);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  z-index: 1200;
}

header a {
  text-decoration: none;
  color: #000;
  padding: 10px 15px;
  border-radius: 25px;
  transition: 0.3s;
}

header a.active {
  font-weight: 700;
  background: rgba(255,255,255,0.5);
}

main {
  margin-top: 120px;
  padding: 0 20px;
  flex: 1;
  overflow-y: auto;
  text-align: center;
  max-width: 800px;
  margin-left: auto;
  margin-right: auto;
}
h1 {
      font-size: 2.7rem;
      margin-bottom: 20px;
      text-align: center;
    }
.projBox {
  padding: 20px;
  border-radius: 15px;
  margin-top: 30px;
  position: relative;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
  background: linear-gradient(45deg, #fbc2eb, #ff9a9e, #fad0c4, #a18cd1);
  background-size: 400% 400%;
  animation: gradientMove 10s ease infinite;
}

@keyframes gradientMove {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.projBox textarea,
#popupTextarea{
  width:100%;
  padding:10px;
  border:none;
  border-radius:10px;
  resize:vertical;
  font-size:1.1rem;
  

  /* moving gradient background */
  background:linear-gradient(45deg,#ff9a9e,#fad0c4,#fbc2eb,#a18cd1);
  background-size:400% 400%;
  animation: gradientMove 10s ease infinite;

  /* white overlay for readability */
  background-blend-mode:lighten;
  background-color:rgba(255,255,255,0.75);
}

.editBtn {
  background: #2196F3;
  color: #fff;
  border: none;
  border-radius: 5px;
  padding: 3px 8px;
  font-size: 0.8rem;
  cursor: pointer;
  margin-left: 10px;
}

.removeBtn {
  position: absolute;
  top: 5px;
  right: 5px;
  background: #c0c0c0;
  color: #fff;
  border: none;
  border-radius: 50%;
  width: 25px;
  height: 25px;
  font-weight: bold;
  cursor: pointer;
}

#addMore {
  position: fixed;
  right: 20px;
  bottom: 130px;
  background: skyblue;
  color: white;
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 2rem;
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
  z-index: 1500;
  cursor: pointer;
}

#popupOverlay {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(3px);
  z-index: 1600;
  justify-content: center;
  align-items: center;
}

#popupWindow{
  background: linear-gradient(45deg, #a18cd1, #ff9a9e, #fad0c4, #fbc2eb);
  background-size:400% 400%;
  animation: gradientMove 10s ease infinite;
  padding:24px;
  border-radius:15px;
  max-width:450px;
  max-height:70vh;
  overflow-y:auto;
  position:relative;
}

#popupClose {
  position: absolute;
  top: 8px;
  right: 12px;
  background: #ff4d4d;
  color: white;
  border: none;
  border-radius: 50%;
  width: 32px;
  height: 32px;
  font-size: 1.3rem;
  cursor: pointer;
}
footer {
    text-align: center;
    margin-top: auto;
    padding: 15px 0;
    font-size: .9rem;
  }

#popupTitle {
  margin-bottom: 15px;
  font-size: 1.5rem;
  font-weight: 600;
  user-select: text;
}

#popupTextarea{
  width:100%;
  height:200px;
  border-radius:10px;
  font-size:1rem;
  padding:10px;
  color:#000;
  resize:vertical;
  border:none;
  
  /* moving gradient background */
  background:linear-gradient(45deg,#ff9a9e,#fad0c4,#fbc2eb,#a18cd1);
  background-size:400% 400%;
  animation:gradientMove 10s ease infinite;
  
  /* slight white overlay so text is readable */
  background-blend-mode:lighten;
  background-color:rgba(255,255,255,0.75);
}

  border: none;
  padding: 10px;
  resize: vertical;
  font-size: 1rem;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  user-select: text;
}
</style>
</head>
<body>
  

<div id="hamburger">‚ò∞</div>
<div id="drawer">
  <h2>Menu</h2>
  <ul>
    <li><a href="journey.html">üìÑ Journey</a></li>
    <li><a href="creations.html">‚≠ê Creations</a></li>
    <li><a href="connect.html">‚öôÔ∏è Connect</a></li>
  </ul>
  <hr>
  <!-- Social media links -->
  <p>
  <a style="text-decoration:none;color:#1877f2;" 
     href="https://www.facebook.com/harish.bhatta.56305" 
     target="_blank" 
     rel="noopener noreferrer">üåê Facebook</a>
</p>
  <p><a style="text-decoration:none;color:#ff0000;" href="https://youtube.com/@psycoshhb?si=iwU8pIWr0_GJnVZr" target="_blank">‚ñ∂ YouTube</a></p>
 <hr>
  <p>üìû +977-9848653932</p>
  <p>‚úâ harishbhatta105@gmail.com</p>
</div>

<header>
  <a href="index.html">H</a>
  <a href="about.html">A</a>
  <a href="projects.html" class="active">P</a>
  <a href="contact.html">C</a>
</header>

<main>
  <h1>My Projects</h1>
  <p>Welcome to My Projects. Create your own projects and enjoy.</p>

  <div id="projectList">
    <!-- Permanent projects -->
    <div class="projBox">
    <h3>Project H </h3>
      <textarea readonly="yes">Hi! Everyone Welcome..</textarea>
    </div>
    <div class="projBox">
      <h3>Project B</h3>
      <textarea placeholder="Write your project B description here..."></textarea>
    </div>
  </div>

  <button id="addMore">+</button>
</main>
<footer>&copy; 2025 HB Creations | Made with ‚ù§</footer> 
<div id="popupOverlay">
  <div id="popupWindow">
    <button id="popupClose">&times;</button>
    <h2 id="popupTitle"></h2>
    <textarea id="popupTextarea" readonly></textarea>
  </div>
</div>

<script>
  const drawer = document.getElementById('drawer');
  const hamb = document.getElementById('hamburger');

  // Toggle drawer on hamburger tap
  hamb.addEventListener('click', e => {
    e.stopPropagation();
    drawer.classList.toggle('open');
  });

  // Close drawer when tapping outside
  document.addEventListener('click', e => {
    if (drawer.classList.contains('open') && !drawer.contains(e.target) && e.target !== hamb) {
      drawer.classList.remove('open');
    }
  });

  // Swipe detection: only swipe left to close drawer
  let startX = 0;
  document.addEventListener('touchstart', e => {
    startX = e.touches[0].clientX;
  });
  document.addEventListener('touchend', e => {
    const endX = e.changedTouches[0].clientX;
    const diff = endX - startX;
    if (Math.abs(diff) > 50) {
      if (diff < 0) {
        drawer.classList.remove('open'); // Swipe left closes drawer
      }
      // Swipe right does nothing
    }
  });

/* [ALL ORIGINAL JAVASCRIPT BELOW THIS POINT REMAINS UNCHANGED] */

const popupOverlay = document.getElementById("popupOverlay");
const popupClose = document.getElementById("popupClose");

popupClose.addEventListener("click", () => (popupOverlay.style.display = "none"));
popupOverlay.addEventListener("click", (e) => {
  if (e.target.id === "popupOverlay") popupOverlay.style.display = "none";
});

const projectList = document.getElementById("projectList");
projectList.addEventListener("click", (e) => {
  const box = e.target.closest(".projBox");
  if (!box) return;
  if (
    e.target.tagName === "TEXTAREA" ||
    e.target.classList.contains("editBtn") ||
    e.target.classList.contains("removeBtn")
  )
    return;

  document.getElementById("popupTitle").innerText = box.querySelector("h3").innerText;
  document.getElementById("popupTextarea").value = box.querySelector("textarea").value || "Empty...";
  popupOverlay.style.display = "flex";
});

/* auto-save */
document.addEventListener("input", (e) => {
  if (e.target.tagName === "TEXTAREA") {
    const box = e.target.closest(".projBox");
    const title = box.querySelector("h3").innerText;
    localStorage.setItem("proj_" + title, e.target.value);
  }
});

/* load default */
window.addEventListener("load", () => {
  ["Project H", "Project B"].forEach((name) => {
    const el = [...document.querySelectorAll(".projBox")].find(
      (p) => p.querySelector("h3").innerText === name
    );
    const saved = localStorage.getItem("proj_" + name);
    if (saved && el) el.querySelector("textarea").value = saved;
  });
  loadExtras();
});

/* load added */
function loadExtras() {
  const arr = JSON.parse(localStorage.getItem("projectTitles") || "[]");
  arr.forEach((n) => {
    const d = document.createElement("div");
    d.className = "projBox";
    d.innerHTML = `<button class="removeBtn">‚ùå</button><h3>${n}</h3><button class="editBtn">Edit Project</button><textarea placeholder="Write here..."></textarea>`;
    projectList.appendChild(d);
    const txt = localStorage.getItem("proj_" + n);
    if (txt) d.querySelector("textarea").value = txt;
  });
}

/* add new */
document.getElementById("addMore").addEventListener("click", () => {
  let arr = JSON.parse(localStorage.getItem("projectTitles") || "[]");
  let next = 1;
  while (arr.includes("Project " + next)) {
    next++;
  }
  const name = "Project " + next;
  arr.push(name);
  localStorage.setItem("projectTitles", JSON.stringify(arr));
  const b = document.createElement("div");
  b.className = "projBox";
  b.innerHTML = `<button class="removeBtn">‚ùå</button><h3>${name}</h3><button class="editBtn">Edit Project</button><textarea placeholder="Write here..."></textarea>`;
  projectList.appendChild(b);
});

/* edit or remove */
projectList.addEventListener("click", (e) => {
  if (e.target.classList.contains("removeBtn")) {
    const box = e.target.closest(".projBox"),
      title = box.querySelector("h3").innerText;
    localStorage.removeItem("proj_" + title);
    let arr = JSON.parse(localStorage.getItem("projectTitles") || "[]");
    arr = arr.filter((x) => x !== title);
    localStorage.setItem("projectTitles", JSON.stringify(arr));
    box.remove();
  }
  if (e.target.classList.contains("editBtn")) {
    const box = e.target.closest(".projBox"),
      h3 = box.querySelector("h3");
    const old = h3.innerText;
    let n = prompt("Rename project:", old);
    if (n) {
      localStorage.setItem("proj_" + n, localStorage.getItem("proj_" + old) || "");
      localStorage.removeItem("proj_" + old);
      h3.innerText = n;
      let arr = JSON.parse(localStorage.getItem("projectTitles") || "[]");
      const i = arr.indexOf(old);
      if (i > -1) arr[i] = n;
      localStorage.setItem("projectTitles", JSON.stringify(arr));
    }
  }
});
</script>
</body>
</html>